# ===================================
# DATABASE CONFIGURATION
# ===================================

# MySQL Database Connection
spring.datasource.url=jdbc:mysql://localhost:3306/personal_finance_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=yourpassword
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Connection Pool Settings
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000

# ===================================
# JPA/HIBERNATE CONFIGURATION
# ===================================

# JPA Properties
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# Hibernate Additional Properties
spring.jpa.properties.hibernate.connection.characterEncoding=utf8
spring.jpa.properties.hibernate.connection.CharSet=utf8
spring.jpa.properties.hibernate.connection.useUnicode=true

# Disable Open Session in View (recommended for REST APIs)
spring.jpa.open-in-view=false

# ===================================
# SERVER CONFIGURATION
# ===================================

# Server Port
server.port=8080

# Context Path (remove if you want root context)
# server.servlet.context-path=/api

# Session Timeout (30 minutes)
server.servlet.session.timeout=30m

# ===================================
# LOGGING CONFIGURATION
# ===================================

# Root logging level
logging.level.root=INFO

# Spring Framework logging
logging.level.org.springframework=INFO

# Hibernate logging
logging.level.org.hibernate=INFO
logging.level.org.hibernate.SQL=DEBUG

# Your application logging
logging.level.controller=DEBUG
logging.level.service=DEBUG
logging.level.repository=DEBUG

# ===================================
# JSON SERIALIZATION
# ===================================

# Jackson Configuration
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.date-format=yyyy-MM-dd
spring.jackson.time-zone=UTC

# ===================================
# MULTIPART FILE UPLOAD
# ===================================

# File upload settings (for profile pictures)
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# ===================================
# APPLICATION SPECIFIC PROPERTIES
# ===================================

# Default currency
app.default.currency=RSD

# Profile pictures directory
app.upload.profile-pics=uploads/profile-pics/

# Supported currencies
app.currencies.supported=RSD,EUR,USD,GBP,CHF